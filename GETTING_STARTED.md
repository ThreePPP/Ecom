# ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö Backend

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô (Quick Start)

### 1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ MongoDB ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

**Windows:**
```bash
# ‡πÄ‡∏õ‡∏¥‡∏î Command Prompt ‡πÅ‡∏ö‡∏ö Administrator
net start MongoDB

# ‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ MongoDB Compass ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÅ‡∏•‡∏∞ Connect
```

### 2. ‡πÄ‡∏õ‡∏¥‡∏î Terminal 2 ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á

**Terminal 1 - ‡∏£‡∏±‡∏ô Backend:**
```bash
npm run server
```

‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°:
```
‚úÖ MongoDB connected successfully
üöÄ Server is running on port 5000
üìç API URL: http://localhost:5000
üåç Environment: development
```

**Terminal 2 - ‡∏£‡∏±‡∏ô Frontend:**
```bash
npm run dev
```

‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°:
```
  ‚ñ≤ Next.js 15.5.4
  - Local:        http://localhost:3000
```

### 3. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á (‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)

**Terminal 3:**
```bash
npm run seed
```

‡∏Ñ‡∏ß‡∏£‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°:
```
‚úÖ MongoDB connected successfully
‚úÖ Sample products seeded successfully
üì¶ Created 5 products
```

### 4. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö

1. ‡πÄ‡∏õ‡∏¥‡∏î Browser ‡πÑ‡∏õ‡∏ó‡∏µ‡πà `http://localhost:3000`
2. ‡∏Ñ‡∏•‡∏¥‡∏Å "‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö"
3. ‡∏Ñ‡∏•‡∏¥‡∏Å "‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡πÄ‡∏•‡∏¢"
4. ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
   - ‡∏ä‡∏∑‡πà‡∏≠: ‡∏ó‡∏î‡∏™‡∏≠‡∏ö
   - ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•: ‡∏£‡∏∞‡∏ö‡∏ö
   - ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£: 0812345678
   - ‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î: 01/01/1990
   - ‡∏≠‡∏µ‡πÄ‡∏°‡∏•: test@example.com
   - ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô: 123456
   - ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô: 123456
5. ‡∏Ñ‡∏•‡∏¥‡∏Å "‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å"
6. ‡∏ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° "‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!"

### 5. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Login

1. ‡∏Ñ‡∏•‡∏¥‡∏Å "‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö"
2. ‡∏Ñ‡∏•‡∏¥‡∏Å "‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡πâ‡∏ß‡∏¢ Email"
3. ‡∏Å‡∏£‡∏≠‡∏Å:
   - ‡∏≠‡∏µ‡πÄ‡∏°‡∏•: test@example.com
   - ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô: 123456
4. ‡∏Ñ‡∏•‡∏¥‡∏Å "‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö"
5. ‡∏ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° "‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö ‡∏ó‡∏î‡∏™‡∏≠‡∏ö!"

---

## ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö API ‡∏î‡πâ‡∏ß‡∏¢ Postman

### 1. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Health Check
```
GET http://localhost:5000/api/health
```

### 2. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Register
```
POST http://localhost:5000/api/auth/register
Content-Type: application/json

{
  "firstName": "‡∏™‡∏°‡∏ä‡∏≤‡∏¢",
  "lastName": "‡πÉ‡∏à‡∏î‡∏µ",
  "email": "somchai@example.com",
  "password": "password123",
  "phoneNumber": "0898765432",
  "dateOfBirth": "1995-05-15"
}
```

### 3. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Login
```
POST http://localhost:5000/api/auth/login
Content-Type: application/json

{
  "email": "somchai@example.com",
  "password": "password123"
}
```

‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å `token` ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å Response

### 4. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Get Products
```
GET http://localhost:5000/api/products
```

### 5. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Add to Cart (‡∏ï‡πâ‡∏≠‡∏á Login)
```
POST http://localhost:5000/api/cart
Authorization: Bearer YOUR_TOKEN_HERE
Content-Type: application/json

{
  "productId": "PRODUCT_ID_FROM_GET_PRODUCTS",
  "quantity": 1
}
```

---

## ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢

```bash
# ‡∏£‡∏±‡∏ô Backend
npm run server

# ‡∏£‡∏±‡∏ô Frontend  
npm run dev

# ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á
npm run seed

# Build Backend
npm run server:build

# ‡∏£‡∏±‡∏ô Production Backend
npm run server:start

# Build Frontend
npm run build

# ‡∏£‡∏±‡∏ô Production Frontend
npm start
```

---

## Troubleshooting

### ‚ùå MongoDB Connection Error

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:**
```
‚ùå MongoDB connection error: connect ECONNREFUSED 127.0.0.1:27017
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ MongoDB ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà
2. Windows: `net start MongoDB` (Command Prompt ‡πÅ‡∏ö‡∏ö Admin)
3. ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ MongoDB Compass ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠

### ‚ùå Port 5000 Already in Use

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:**
```
Error: Port 5000 is already in use
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå `.env`:
```
PORT=5001
```

‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå `.env.local`:
```
NEXT_PUBLIC_API_URL=http://localhost:5001/api
```

### ‚ùå CORS Error

**‡∏õ‡∏±‡∏ç‡∏´‡∏≤:**
```
Access to fetch at 'http://localhost:5000/api/...' has been blocked by CORS
```

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏ü‡∏•‡πå `.env` ‡∏ß‡πà‡∏≤‡∏°‡∏µ:
```
FRONTEND_URL=http://localhost:3000
```

---

## ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô MongoDB

### ‡πÉ‡∏ä‡πâ MongoDB Compass
1. ‡πÄ‡∏õ‡∏¥‡∏î MongoDB Compass
2. ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ó‡∏µ‡πà `mongodb://localhost:27017`
3. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Database `ecommerce`
4. ‡∏î‡∏π Collections:
   - `users` - ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
   - `products` - ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
   - `carts` - ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
   - `orders` - ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠

### ‡πÉ‡∏ä‡πâ MongoDB Shell
```bash
mongosh

use ecommerce

# ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
db.users.find()

# ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
db.products.find()

# ‡∏ô‡∏±‡∏ö‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
db.products.countDocuments()

# ‡∏•‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏£‡∏∞‡∏ß‡∏±‡∏á!)
db.users.deleteMany({})
db.products.deleteMany({})
db.carts.deleteMany({})
db.orders.deleteMany({})
```

---

## ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

### Token ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà
- `localStorage.getItem('token')` - JWT Token
- `localStorage.getItem('user')` - ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ

### ‡∏Å‡∏≤‡∏£ Logout
‡πÄ‡∏õ‡∏¥‡∏î Console ‡πÉ‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡πÅ‡∏•‡∏∞‡∏û‡∏¥‡∏°‡∏û‡πå:
```javascript
localStorage.removeItem('token');
localStorage.removeItem('user');
location.reload();
```

---

**‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß! üéâ**
